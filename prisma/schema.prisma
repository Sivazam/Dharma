generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../db/custom.db"
}

model Category {
  id          String         @id @default(uuid())
  name        String         @unique
  slug        String         @unique
  title       String
  description String
  icon        String
  color       String
  order       Int
  createdAt   DateTime       @default(now())
  updatedAt   DateTime       @updatedAt
  organizations Organization[]
}

model Organization {
  id              String   @id @default(uuid())
  categoryId      String
  category        Category @relation(fields: [categoryId], references: [id])
  name            String
  slug            String   @unique
  shortDesc       String
  description     String
  history         String?
  values          String?
  impactHighlights String   // JSON string: { mealsServed: string, peopleBenefited: string, yearsOfService: string }
  donationLink    String?
  bankDetails     String?  // JSON string: { accountName: string, bankName: string, accountNumber: string, ifscCode: string, branch: string }
  website         String?
  verified        Boolean  @default(false)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model ContactSubmission {
  id            String   @id @default(uuid())
  fullName      String
  mobileNumber  String
  email         String?
  organization  String?
  message       String
  createdAt     DateTime @default(now())
}
